[{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"MbioAssy provides integrated pipeline assessing ecological stochasticity determinism microbial community assembly. vignette demonstrates use package perform: Normalized Stochasticity Ratio (NST) analysis Neutral Model analysis iCAMP (infer Community Assembly Mechanisms Phylogenetic-bin-based null model) analysis C-score variance analysis Co-occurrence Network construction topology analysis","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"loading-data","dir":"Articles","previous_headings":"","what":"Loading Data","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"package includes example data inst/extdata directory. first load necessary data tables.","code":"library(MbioAssy2)  # Let's assume we are running this where we can access the files. data_dir <- system.file(\"extdata\", package = \"MbioAssy2\")  # Load OTU table otu_file <- file.path(data_dir, \"OTU.txt\") otu_table <- t(read.table(otu_file, sep = \" \", header = TRUE, row.names = 1)) # Samples x OTUs  # Filter otu_table <- as.matrix(otu_table) otu_table <- otu_table[which(rowSums(otu_table) > 0), ] otu_table <- otu_table[, which(colSums(otu_table) > 0)]  # Load Group table group_file <- file.path(data_dir, \"Group.txt\") group_table <- read.table(group_file, sep = \"   \", header = TRUE, row.names = 1)  # Load Tree tree_file <- file.path(data_dir, \"Tree.nwk\") if (requireNamespace(\"ape\", quietly = TRUE)) {   tree <- ape::read.tree(tree_file) }  # Load Env env_file <- file.path(data_dir, \"Env.txt\") env_table <- read.table(env_file, sep = \"   \", header = TRUE, row.names = 1)  # Load Taxonomy tax_file <- file.path(data_dir, \"Taxonomy.txt\") tax_table <- read.table(tax_file, sep = \"   \", header = TRUE, row.names = 1)"},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"normalized-stochasticity-ratio-nst-analysis","dir":"Articles","previous_headings":"","what":"1. Normalized Stochasticity Ratio (NST) Analysis","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"NST quantifies stochasticity community assembly. NST > 0.5 indicates stochasticity dominance; NST < 0.5 indicates determinism dominance.","code":"# Run NST (rand=20 for speed in vignette, normally 1000) nst_res <- run_nst(   comm = otu_table,    group = group_table,    rand = 20,    output_file = NULL ) #> All match very well. #> Now randomizing by parallel computing. Begin at Mon Dec 15 17:53:50 2025. Please wait... head(nst_res) #>             group size ST.i.ruzicka NST.i.ruzicka MST.i.ruzicka #> 1 Non-saline soil  435    0.7610271     0.4062123     0.3729465 #> 2     Saline soil 1770    0.8274543     0.4843195     0.4459306"},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"neutral-model-analysis","dir":"Articles","previous_headings":"","what":"2. Neutral Model Analysis","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"module fits Sloan neutral community model.","code":"# Fit neutral model nm_out <- fit_sncm(spp = otu_table) #> Waiting for profiling to be done...  # Plot results p <- plot_sncm_fit(nm_out, title = \"Neutral Model Fit\") print(p) # Inspect fit statistics print(nm_out$fitstats) #>           m       m.ci    poisLL      Rsqr  Rsqr.pois      RMSE RMSE.pois #> 1 0.2096662 0.01067895 -1133.184 0.6689915 0.02138333 0.1513549 0.2602456 #>    AIC.pois  BIC.pois        N Samples Richness       Detect #> 1 -2262.368 -2250.356 9782.911      90     3000 0.0001022191"},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"icamp-analysis","dir":"Articles","previous_headings":"","what":"3. iCAMP Analysis","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"iCAMP quantifies relative importance ecological processes (Selection, Dispersal, Drift) bin level.","code":"# Create a temporary directory for outputs icamp_out_dir <- tempfile() dir.create(icamp_out_dir)  # Run iCAMP (parameters reduced for speed) icamp_res <- run_icamp(   comm = otu_table,   tree = tree,   treat = group_table,   env = env_table,   clas = tax_table,   prefix = \"VignetteTest\",   save_dir = icamp_out_dir,   rand = 20,         # 1000 recommended   nworker = 2,       # Adjust based on CPU   bin_size_limit = 12 # Small for test data ) #> [1] \"9.582236 mins\"  # View process importance for each group print(icamp_res$icbin$Pt) #>         Method GroupBasedOn                          Group                HeS #> 1 CbMPDiCbraya       Saline                Non-saline soil 0.0123098029312797 #> 2 CbMPDiCbraya       Saline                    Saline soil  0.014165570010395 #> 3 CbMPDiCbraya       Saline Non-saline soil_vs_Saline soil 0.0206792474744961 #>                 HoS                DL                 HD                DR #> 1 0.283503111381944 0.497525614644261  0.058154511964781 0.148506959077734 #> 2 0.264772543226473 0.425054980449691 0.0855917551317241 0.210415151181717 #> 3  0.24006506028654 0.515761262146708 0.0481255058329052  0.17536892425935"},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"c-score-variance-analysis","dir":"Articles","previous_headings":"","what":"4. C-score Variance Analysis","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"C-score variance assesses co-occurrence patterns (aggregation vs. segregation).","code":"# Run C-score analysis (nReps reduced for speed) cscore_model <- run_cscore_var(   comm = otu_table,   nReps = 100,   save_plot = FALSE,   output_file = NULL ) #> Burn-in Progress  #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% #> Swap Progress  #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%  summary(cscore_model) #> Time Stamp:  Mon Dec 15 18:06:23 2025  #> Reproducible:   #> Number of Replications:   #> Elapsed Time:  2.3 mins  #> Metric:  c_score_var  #> Algorithm:  sim9  #> Observed Index:  26174  #> Mean Of Simulated Index:  25257  #> Variance Of Simulated Index:  839.67  #> Lower 95% (1-tail):  25209  #> Upper 95% (1-tail):  25309  #> Lower 95% (2-tail):  25208  #> Upper 95% (2-tail):  25310  #> Lower-tail P >  0.99  #> Upper-tail P <  0.01  #> Observed metric > 100 simulated metrics  #> Observed metric < 0 simulated metrics  #> Observed metric = 0 simulated metrics  #> Standardized Effect Size (SES):  31.639"},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"co-occurrence-network-analysis","dir":"Articles","previous_headings":"","what":"5. Co-occurrence Network Analysis","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"Constructs analyzes microbial interaction networks.","code":"# Construct network # For demonstration, we use a simple Spearman correlation without RMT net_res <- construct_network(   comm = otu_table,   cor_cutoff = 0.6,   p_cutoff = 0.05,   use_rmt = FALSE )  # Calculate topology topo_res <- calculate_topology(net_res$graph)  # plot network plot(net_res$graph) # Global topology print(topo_res$global) #>      e    v        cc      spl        md          gd nd       ad #> 1 4327 1007 0.3589672 3.170335 0.6309238 0.008542588 15 8.593843  # Top 5 nodes by degree head(topo_res$node[order(topo_res$node$node.degree, decreasing = TRUE), ]) #>         node.degree betweenness.centrality closeness.centrality #> OTU_52           87              29394.223         0.0003423485 #> OTU_19           72               7612.059         0.0003060912 #> OTU_55           71              21715.277         0.0003332223 #> OTU_137          67               7162.284         0.0002935134 #> OTU_150          66               9532.687         0.0003327787 #> OTU_106          64               5577.901         0.0002928258 #>         node.transitivity #> OTU_52          0.2173216 #> OTU_19          0.2879499 #> OTU_55          0.2406439 #> OTU_137         0.2786070 #> OTU_150         0.2442890 #> OTU_106         0.2901786"},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"random-network-generation","dir":"Articles","previous_headings":"","what":"6. Random Network Generation","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"Generates random networks compare empirical network.","code":"# Generate 10 random networks with same nodes and edges as empirical network n_nodes <- topo_res$global$v n_edges <- topo_res$global$e  rand_net_stats <- generate_random_networks(n = n_nodes, e = n_edges, reps = 10) head(rand_net_stats) #>      n    e          cc      spl        md          gd nd       ad #> 1 1007 4327 0.009153196 3.458105 0.2490601 0.008542588  6 8.593843 #> 2 1007 4327 0.008691453 3.453841 0.2564205 0.008542588  6 8.593843 #> 3 1007 4327 0.009366092 3.458490 0.2571868 0.008542588  6 8.593843 #> 4 1007 4327 0.009021587 3.457938 0.2578211 0.008542588  6 8.593843 #> 5 1007 4327 0.009301331 3.457529 0.2560048 0.008542588  7 8.593843 #> 6 1007 4327 0.007913224 3.454889 0.2501405 0.008542588  6 8.593843"},{"path":"https://gaospecial.github.io/MbioAssy2/articles/MbioAssy_vignette.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Integrated Analysis of Microbial Community Assembly with MbioAssy 2.0","text":"MbioAssy package simplifies complex workflow microbial community assembly analysis, making advanced ecological methods accessible.","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"mbioassy-2-0-简介","dir":"Articles","previous_headings":"","what":"MbioAssy 2.0 简介","title":"Introduction","text":"MbioAssy 2.0 是一个集成的 R 语言脚本工具包，旨在量化评估微生物群落构建过程中的生态随机性（Stochasticity）和确定性（Determinism）。该版本整合了四个主要模块：标准化随机率（NST）计算、中性模型（Neutral Model）分析、iCAMP 空模型分析、C-score 方差分析，以及共现网络（Co-occurrence Network）构建与分析功能。 主要参考文献包括： Ning et al. (2019) PNAS (NST) Burns et al. (2016) ISME J (Neutral Model) Ning et al. (2020) Nature Communications (iCAMP) Ju et al. (2014) Environmental Microbiology (Network & C-score)","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"核心概念通俗解释-小白必读","dir":"Articles","previous_headings":"","what":"核心概念通俗解释 (小白必读)","title":"Introduction","text":"为了方便理解，我们将文档中涉及的专业术语进行通俗化解读：","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"什么是-群落构建-community-assembly","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读)","what":"1. 什么是 “群落构建 (Community Assembly)”？","title":"Introduction","text":"想象一个空房间（一个新的环境），陆陆续续有人（微生物）搬进来住。群落构建就是研究“为什么是这些人搬进来了，而不是别人？” - 是因为房间条件（环境因子，如温度、pH）只适合这类人住？（确定性过程） - 还是纯粹因为运气好，刚好路过就进来了？（随机性过程）","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"确定性-vs-随机性-determinism-vs-stochasticity","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读)","what":"2. 确定性 vs 随机性 (Determinism vs Stochasticity)","title":"Introduction","text":"确定性 (Determinism): “优胜劣汰，适者生存”。环境条件（如高盐、高温）非常严格，只有特定的微生物能活下来。这就像考试录取，只有分数够高（适应环境）的才能进。 随机性 (Stochasticity): “一切皆有可能，全凭运气”。出生、死亡、迁移都是随机发生的。这就像摇号买房，谁能买到主要看运气，跟能力关系不大。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"零模型-null-model-找参照物的标尺","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读)","what":"3. 零模型 (Null Model) —— 找参照物的标尺","title":"Introduction","text":"在生态学统计中，我们很难直接说一个现象是不是随机的。 零模型就是用计算机模拟一个“完全随机的世界”。它通过把原始数据打乱（比如把物种名字洗牌），生成一个人工的、没有任何规律的数据集。 如果真实观测数据和随机模拟数据长得很像 →\\rightarrow 说明真实世界也是随机的。 如果真实观测数据和随机模拟数据差别很大 →\\rightarrow 说明真实世界有特定的规律（确定性）。","code":""},{"path":[]},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"nst-标准化随机率","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读) > 4. 各种分析方法到底在算什么？","what":"NST (标准化随机率)","title":"Introduction","text":"打分卡: 它给群落打一个分（0% 到 100%）。 > 50%: 说明“运气”（随机性）占主导地位。 < 50%: 说明“规则”（确定性）占主导地位。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"中性模型-neutral-model","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读) > 4. 各种分析方法到底在算什么？","what":"中性模型 (Neutral Model)","title":"Introduction","text":"假设: 假设所有微生物都是“平庸”的，能力都一样（中性），谁在某个地方多，纯粹是因为它在总库里本来就多，或者它跑得快（扩散）。 落在预测区间内: 说明这个物种是“随波逐流”的（中性/随机）。 高于预测: 说明它被环境“特别优待”了（主动选择）。 低于预测: 说明它被环境“特意排挤”了。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"icamp-系统发育分箱分析","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读) > 4. 各种分析方法到底在算什么？","what":"iCAMP (系统发育分箱分析)","title":"Introduction","text":"这是一个高倍显微镜。 传统方法是把所有微生物混在一起算。iCAMP 认为“龙生龙，凤生凤”，亲缘关系近的微生物（比如同一个“科”的）往往有相似的生存习惯。 Homogeneous Selection (同质选择): 环境一样，所以选出来的微生物也一样。 Variable Selection (变量选择): 环境变了，选出来的微生物也跟着变了。 Dispersal Limitation (扩散限制): 想去去不了（路被堵了，或者飞不过去）。 Homogenizing Dispersal (同质扩散): 大家到处乱跑，把所有地方都混得差不多了。 Drift (漂变): 纯随机事件（生老病死）。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"c-score-棋盘分数","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读) > 4. 各种分析方法到底在算什么？","what":"C-score (棋盘分数)","title":"Introduction","text":"含义: 衡量物种之间“老死不相往来”的程度。 直喻: 如果物种 和物种 B 就像“死对头”，有 的地方就没 B，有 B 的地方就没 ，这就是“竞争排斥”，C-score 就会很高。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"共现网络-co-occurrence-network","dir":"Articles","previous_headings":"核心概念通俗解释 (小白必读) > 4. 各种分析方法到底在算什么？","what":"共现网络 (Co-occurrence Network)","title":"Introduction","text":"含义: 微生物的“社交网络图”。 点 (Node): 代表微生物。 连线说明它们经常一起出现（合作/共生）或者死对头（竞争）。 RMT (随机矩阵理论): 一种用来自动决定“什么样的关系才算铁哥们（阈值）”的高级数学方法，避免了人为主观瞎猜。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"原创性与技术实现分析","dir":"Articles","previous_headings":"","what":"原创性与技术实现分析","title":"Introduction","text":"核心结论： MbioAssy 2.0 主要是一个集成型工具包（Pipeline/Wrapper），而非底层算法的原创开发。它通过整合现有的成熟 R 包和已发表的统计算法，为微生物群落构建机制的研究提供了一站式的分析流程。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"技术实现方式","dir":"Articles","previous_headings":"原创性与技术实现分析","what":"1. 技术实现方式","title":"Introduction","text":"该工具包主要调用了以下第三方 R 包来实现核心功能： NST 分析: 直接调用 NST 包（Ning et al., 2019 开发）。 iCAMP 分析: 直接调用 iCAMP 包（Ning et al., 2020 开发），并依赖 ape 包处理系统发育树。 中性模型: 基于 minpack.lm（非线性最小二乘法拟合）和 stats4 包实现，代码主要改编自 Burns et al. (2016) 的公开脚本。 C-score 分析: 调用 EcoSimR 包进行零模型模拟。 网络分析: 核心计算依赖 igraph（图论算法）、vegan（生态统计）和 Hmisc（相关性计算）。RMT 阈值确定调用了 RMThreshold 包。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"创新性评价","dir":"Articles","previous_headings":"原创性与技术实现分析","what":"2. 创新性评价","title":"Introduction","text":"集成创新: 它的主要价值在于将分散在不同文献和软件包中的分析方法（如 NST、iCAMP、中性模型、网络分析）整合到一个统一的工作流中。这极大降低了研究人员的学习成本，无需分别去寻找和调试各个独立的脚本。 流程标准化: 提供了一套标准化的输入输出格式（如 OTU 表、Group 表），使得数据在不同分析模块间流转更加顺畅。 应用导向: 针对微生物生态学特定的科学问题（“随机性 vs 确定性”）进行了针对性的功能筛选和封装，不仅提供计算，还包含了可视化绘图（ggplot2）和结果统计导出功能。","code":""},{"path":[]},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"标准化随机率计算-normalized-stochasticity-ratio-nst","dir":"Articles","previous_headings":"模块功能详细介绍","what":"1. 标准化随机率计算 (Normalized Stochasticity Ratio, NST)","title":"Introduction","text":"功能描述： 基于零模型（Null Model）量化群落构建中的随机性程度。NST 值介于 0 到 1 之间，以 0.5 为分界线（>0.5 表示随机性主导，<0.5 表示确定性主导）。 输入文件 (Input)： OTU.txt: 微生物丰度表（列为 OTU，行为样本）。 Group.txt: 样本分组信息表。 输出文件 (Output)： NST.output.txt: 包含不同组别的 NST 指数计算结果摘要。 代码对应：1_NST.R","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"中性模型分析-neutral-model-analysis","dir":"Articles","previous_headings":"模块功能详细介绍","what":"2. 中性模型分析 (Neutral Model Analysis)","title":"Introduction","text":"功能描述： 基于 Sloan 中性群落模型，评估随机过程（扩散和生态漂变）对群落构建的贡献。该模型预测分类单元在局域群落中的出现频率与其在元群落中的平均相对丰度之间的关系。 输入文件 (Input)： OTU.txt: 微生物丰度表。 输出文件 (Output)： Neutral.model.plot.pdf: 中性模型拟合曲线图，展示物种出现频率与平均相对丰度的关系，并标注 R2R^2 和迁移率 mm。 Neutral.model.details.txt: 每个物种的详细预测数据（如观测频率、预测频率、是否在中性预测范围内）。 代码对应：2_Neutral_model.R","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"icamp-空模型分析-icamp-assembly","dir":"Articles","previous_headings":"模块功能详细介绍","what":"3. iCAMP 空模型分析 (iCAMP Assembly)","title":"Introduction","text":"功能描述： 通过推断群落组装机制的系统发育分箱（Binning）方法（iCAMP），定量分析不同生态过程（如均质选择、变量选择、扩散限制、均质扩散、漂变等）对群落构建的相对重要性。这是一种比传统 QPEN/NST 更精细的方法，因为它在不同的系统发育分箱（Bin）水平上进行评估。 输入文件 (Input)： OTU.txt: 微生物丰度表。 Tree.nwk: 系统发育树文件。 Group.txt: 样本分组信息。 Env.txt: 环境因子变量表（用于生态位差异分析）。 Taxonomy.txt: 物种分类信息表。 输出文件 (Output)： Test.ProcessImportance_EachGroup.csv: 每组样本中各生态过程的相对重要性。 Test.ProcessImportance_EachBin_EachGroup.csv: 每个 Bin 在每组样本中受各生态过程支配的程度。 Test.BinContributeToProcess_EachGroup.csv: 每个 Bin 对各生态过程重要性的贡献度。 Test.Taxon_Bin.csv & Test.Bin_TopTaxon.csv: Bin 与分类单元的对应关系及主要物种信息。 Test.iCAMP.Summary.rda: 包含完整分析结果的 R 数据对象。 代码对应：3_iCAMP_Assembly.R","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"c-score-方差分析-c-score-var-analysis","dir":"Articles","previous_headings":"模块功能详细介绍","what":"4. C-score 方差分析 (C-score-var Analysis)","title":"Introduction","text":"功能描述： 通过计算 C-score（Checkerboard score）的方差来推断群落构建机制。结合生态位理论，用于评估物种间的竞争排斥或环境过滤作用。 输入文件 (Input)： OTU.txt: 微生物丰度表。 输出文件 (Output)： c-score-var.summary.txt: 包含 C-score 方差分析的统计摘要。 c-score-var.hist.500.emf: 观测值与随机模拟值分布的直方图。 代码对应：4_C-score-var.R","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"共现网络构建-co-occurrence-network-construction","dir":"Articles","previous_headings":"模块功能详细介绍","what":"5. 共现网络构建 (Co-occurrence Network Construction)","title":"Introduction","text":"包含两种构建方法：","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"基础共现网络","dir":"Articles","previous_headings":"模块功能详细介绍 > 5. 共现网络构建 (Co-occurrence Network Construction)","what":"5.1 基础共现网络","title":"Introduction","text":"功能描述：基于 Spearman 相关性系数构建网络，通过设定的相关系数阈值（如 >0.8）和显著性 P 值（如 <0.05）来确定物种间的连接。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"rmt-基于随机矩阵理论的网络-rmt-based","dir":"Articles","previous_headings":"模块功能详细介绍 > 5. 共现网络构建 (Co-occurrence Network Construction)","what":"5.2 RMT 基于随机矩阵理论的网络 (RMT-based)","title":"Introduction","text":"功能描述：利用随机矩阵理论（RMT）自动寻找最优的相关性阈值，而不是人为设定固定阈值，从而构建更加客观的生态网络。 输入文件 (Input)： OTU.txt: 微生物丰度表。 输出文件 (Output)： Network.gml: 网络文件，可用 Gephi 或 Cytoscape 可视化。 Network.global.topology.csv: 全局拓扑属性（如节点数、边数、平均路径长度、模块化程度等）。 Network.node.topology.csv: 节点拓扑属性（如度、介数中心性、接近中心性等）。 代码对应：5.1_Co-occurrence_network.R 和 5.2_RMT_Co-occurrence_network.R","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/articles/introduction.html","id":"随机网络生成-random-network","dir":"Articles","previous_headings":"模块功能详细介绍","what":"6. 随机网络生成 (Random Network)","title":"Introduction","text":"功能描述： 生成与观测网络具有相同节点数和边数的随机网络（Erdős-Rényi 模型），用于比较和验证观测网络的非随机性拓扑特征。 输入参数： 代码中需手动设定节点数 n 和边数 e。 输出文件 (Output)： N[n]E[e].er.random.network.xls: 1000 个随机网络的全局拓扑属性统计表。","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ling Yuan. Author, maintainer. Ze Zhao. Author. Feng Ju. Author.","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Yuan L, Zhao Z, Ju F (2025). MbioAssy2: Integrated Analysis Microbial Community Assembly. R package version 2.0.0, https://gaospecial.github.io/MbioAssy2.","code":"@Manual{,   title = {MbioAssy2: Integrated Analysis of Microbial Community Assembly},   author = {Ling Yuan and Ze Zhao and Feng Ju},   year = {2025},   note = {R package version 2.0.0},   url = {https://gaospecial.github.io/MbioAssy2}, }"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/calculate_topology.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Network Topology — calculate_topology","title":"Calculate Network Topology — calculate_topology","text":"Calculate Network Topology","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/calculate_topology.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Network Topology — calculate_topology","text":"","code":"calculate_topology(g, output_dir = NULL, prefix = \"Network\")"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/calculate_topology.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Network Topology — calculate_topology","text":"g igraph object. output_dir Directory save topology files (optional). prefix Prefix output files.","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/construct_network.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Co-occurrence Network — construct_network","title":"Construct Co-occurrence Network — construct_network","text":"Construct Co-occurrence Network","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/construct_network.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Co-occurrence Network — construct_network","text":"","code":"construct_network(   comm,   cor_cutoff = 0.8,   p_cutoff = 0.05,   use_rmt = FALSE,   method = \"spearman\",   rmt_interval = c(0.6, 0.99) )"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/construct_network.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Co-occurrence Network — construct_network","text":"comm Abundance matrix (rows samples, columns OTUs). cor_cutoff Correlation coefficient cutoff (optional use_rmt TRUE). p_cutoff P-value cutoff. use_rmt Logical, whether use RMT find cutoff. method Correlation method, default \"spearman\". rmt_interval Interval RMT threshold search.","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/fit_sncm.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Neutral Community Model — fit_sncm","title":"Fit Neutral Community Model — fit_sncm","text":"Fit Neutral Community Model","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/fit_sncm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Neutral Community Model — fit_sncm","text":"","code":"fit_sncm(spp, pool = NULL, taxon = NULL)"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/fit_sncm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Neutral Community Model — fit_sncm","text":"spp Abundance matrix (rows samples, columns OTUs). pool Metacommunity abundance (optional). taxon Taxonomy information (optional).","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/generate_random_networks.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Random Networks — generate_random_networks","title":"Generate Random Networks — generate_random_networks","text":"Generate Random Networks","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/generate_random_networks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Random Networks — generate_random_networks","text":"","code":"generate_random_networks(n, e, reps = 1000, output_file = NULL)"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/generate_random_networks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Random Networks — generate_random_networks","text":"n Number nodes. e Number edges. reps Number random networks generate, default 1000. output_file Output file path summary (optional).","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/plot_sncm_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Neutral Community Model Fit — plot_sncm_fit","title":"Plot Neutral Community Model Fit — plot_sncm_fit","text":"Plot Neutral Community Model Fit","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/plot_sncm_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Neutral Community Model Fit — plot_sncm_fit","text":"","code":"plot_sncm_fit(spp_out, fill = NULL, title = NULL)"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/plot_sncm_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Neutral Community Model Fit — plot_sncm_fit","text":"spp_out Output object fit_sncm. fill Variable fill points , default \"fit_class\". title Plot title.","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_cscore_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Run C-score-var Analysis — run_cscore_var","title":"Run C-score-var Analysis — run_cscore_var","text":"Run C-score-var Analysis","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_cscore_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run C-score-var Analysis — run_cscore_var","text":"","code":"run_cscore_var(   comm,   nReps = 500,   save_plot = FALSE,   output_file = \"c-score-var.summary.txt\",   plot_file = \"c-score-var.hist.emf\" )"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_cscore_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run C-score-var Analysis — run_cscore_var","text":"comm Abundance matrix (rows samples, columns OTUs). nReps Number replications, default 500. save_plot Logical, whether save histogram plot. output_file Output file path summary. plot_file Output file path plot (EMF format).","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_icamp.html","id":null,"dir":"Reference","previous_headings":"","what":"Run iCAMP Analysis — run_icamp","title":"Run iCAMP Analysis — run_icamp","text":"Run iCAMP Analysis","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_icamp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run iCAMP Analysis — run_icamp","text":"","code":"run_icamp(   comm,   tree,   treat,   env = NULL,   clas,   prefix = \"iCAMP_Test\",   save_dir = tempdir(),   rand = 1000,   nworker = 4,   memory_G = 50,   bin_size_limit = 24 )"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_icamp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run iCAMP Analysis — run_icamp","text":"comm Community abundance matrix (rows samples, columns OTUs). tree Phylogenetic tree object (phylo). treat Group information (data frame). env Environmental variables (data frame, optional). clas Taxonomy information (data frame). prefix Prefix output files. save_dir Directory save outputs intermediate files. rand Randomization times, default 1000. nworker Number threads, default 4. memory_G Memory limit GB, default 50. bin_size_limit Minimum bin size, default 24.","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_icamp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run iCAMP Analysis — run_icamp","text":"List containing iCAMP results (icres icbin).","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_nst.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Normalized Stochasticity Ratio (NST) Analysis — run_nst","title":"Run Normalized Stochasticity Ratio (NST) Analysis — run_nst","text":"Run Normalized Stochasticity Ratio (NST) Analysis","code":""},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_nst.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Normalized Stochasticity Ratio (NST) Analysis — run_nst","text":"","code":"run_nst(   comm,   group,   dist_method = \"jaccard\",   abundance_weighted = TRUE,   rand = 20,   output_file = \"NST.output.txt\" )"},{"path":"https://gaospecial.github.io/MbioAssy2/reference/run_nst.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Normalized Stochasticity Ratio (NST) Analysis — run_nst","text":"comm Community abundance matrix (rows samples, columns OTUs). group Group information (data frame row names matching samples). dist_method Distance method, default \"jaccard\". abundance_weighted Logical, default TRUE. rand Number randomizations, default 20. output_file Output file path summary.","code":""}]
